(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/dealer/module/my/module/attestation"],{"1e8e":function(a,e,t){"use strict";(function(a){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{oldInfo:{},dealer_phone:"",loading:!1,disabled:!1,business_license:"",idcard_just:"",idcard_back:"",showFlag:!1,active_province:-1,province_name:"请选择省",province_id:"",city_all:[],active_city:-1,city_name:"市",city_id:"",area_all:[],active_area:-1,area_name:"区",area_id:"",site_data:[]}},props:{addressd:Array},onLoad:function(a){this.getSiteData(),this.getInfo(),t=this,this.dealer_phone=a.dealer_phone},onReady:function(){t=this},methods:{getInfo:function(){var a=this;this.$api.DealerMyAuth({}).then(function(e){0==e.data.errcode&&(a.province_name=e.data.data.areainfo.split(" ")[0],a.city_name=e.data.data.areainfo.split(" ")[1],a.area_name=e.data.data.areainfo.split(" ")[2],a.province_id=e.data.data.provinceid,a.city_id=e.data.data.cityid,a.area_id=e.data.data.areaid,a.oldInfo=e.data.data)}).catch(function(a){console.log("request fail",a," at pages\\dealer\\module\\my\\module\\attestation.vue:142")})},getSiteData:function(){var a=this;a.$api.AreaList({}).then(function(e){0==e.data.errcode&&(a.site_data=e.data.data)}).catch(function(a){console.log("request fail",a," at pages\\dealer\\module\\my\\module\\attestation.vue:154")})},showAddress:function(){this.showFlag=!0},hideAddress:function(){-1!=this.active_province?-1!=this.active_city?-1!=this.active_area?this.showFlag=null:a.showToast({title:"请选择所在区",icon:"none",duration:1500}):a.showToast({title:"请选择所在城市",icon:"none",duration:1500}):a.showToast({title:"请选择所在省份",icon:"none",duration:1500})},selectItem:function(a,e,t){0==a&&(this.active_province=e,this.province_name=t.area_name,this.province_id=t.area_id,this.active_city=-1,this.city_name="请选择市",this.city_id="",this.area_all=[],this.active_area=-1,this.area_name="请选择区",this.area_id="",this.city_all=this.site_data[e].city),1==a&&(this.active_city=e,this.city_name=t.area_name,this.city_id=t.area_id,this.active_area=-1,this.area_name="请选择区",this.area_id="",this.area_all=this.site_data[this.active_province].city[e].area),2==a&&(this.active_area=e,this.area_name=t.area_name,this.area_id=t.area_id)},upload:function(e){var i=e.currentTarget.id;t=this,a.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){var n=e.tempFilePaths;a.uploadFile({url:"https://xt.dfbtds.com/api_app/Dealer/uploadFile",filePath:n[0],header:{Authorization:a.getStorageSync("token")},name:i,formData:{name:i},success:function(a){console.log(a," at pages\\dealer\\module\\my\\module\\attestation.vue:243");var e=JSON.parse(a.data);switch(i){case"business_license":t.oldInfo.business_license=e.data.business_license;break;case"idcard_just":t.oldInfo.idcard_just=e.data.idcard_just;break;case"idcard_back":t.oldInfo.idcard_back=e.data.idcard_back;break;default:break}}})},error:function(a){console.log(a," at pages\\dealer\\module\\my\\module\\attestation.vue:262")}})},changInfo:function(){""!==this.oldInfo.shop_name?""!==this.oldInfo.company_name?""!==this.province_id?this.ChangeAttestation():a.showToast({title:"选择所在区域",icon:"none",duration:1500}):a.showToast({title:"请输入企业法人",icon:"none",duration:1500}):a.showToast({title:"请输入商铺名称",icon:"none",duration:1500})},ChangeAttestation:function(){t.$api.EditMyAuth({shop_name:t.oldInfo.shop_name,company_name:t.oldInfo.company_name,provinceid:t.province_id,cityid:t.city_id,areaid:t.area_id,business_license:t.oldInfo.business_license,idcard_just:t.oldInfo.idcard_just,idcard_back:t.oldInfo.idcard_back}).then(function(e){e.data.errcode,a.showToast({title:e.data.msg,icon:"none",mask:!0}),console.log(e," at pages\\dealer\\module\\my\\module\\attestation.vue:320")}).catch(function(a){console.log("request fail",a," at pages\\dealer\\module\\my\\module\\attestation.vue:322")})}}};e.default=i}).call(this,t("6e42")["default"])},"241f":function(a,e,t){"use strict";var i=t("bee2"),n=t.n(i);n.a},bc82:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement;a._self._c},n=[];t.d(e,"a",function(){return i}),t.d(e,"b",function(){return n})},bcd5:function(a,e,t){"use strict";t.r(e);var i=t("bc82"),n=t("ffa8");for(var o in n)"default"!==o&&function(a){t.d(e,a,function(){return n[a]})}(o);t("241f");var s=t("2877"),d=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"5d55e712",null);e["default"]=d.exports},bee2:function(a,e,t){},ffa8:function(a,e,t){"use strict";t.r(e);var i=t("1e8e"),n=t.n(i);for(var o in i)"default"!==o&&function(a){t.d(e,a,function(){return i[a]})}(o);e["default"]=n.a}},[["d694","common/runtime","common/vendor"]]]);