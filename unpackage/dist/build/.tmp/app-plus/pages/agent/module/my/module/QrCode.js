(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/agent/module/my/module/QrCode"],{"4d90":function(e,t,o){"use strict";o.r(t);var n=o("636f"),a=o.n(n);for(var u in n)"default"!==u&&function(e){o.d(t,e,function(){return n[e]})}(u);t["default"]=a.a},"5f45":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},"636f":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return Promise.all([o.e("common/vendor"),o.e("components/tki-qrcode/tki-qrcode")]).then(o.bind(null,"e2f9"))},a={components:{tkiQrcode:n},data:function(){return{QrcodeList:"",seller_code:"",val:"",size:350,icon:"",onval:!0,loadMake:!0,cover:"/static/images/t12.png",tempFilePath:""}},onLoad:function(e){this.getQrCode()},methods:{getQrCode:function(){var t=this;t.$api.MyQrcode({}).then(function(o){0==o.data.errcode?(t.val=o.data.data.download_url,t.seller_code=o.data.data.seller_code):e.showToast({title:"请求失败",icon:"none",duration:2e3})}).catch(function(t){e.showToast({title:"请求异常",icon:"none",duration:2e3})})},qrR:function(t){var o=this;this.qr_path=t;var n=e.getSystemInfoSync();console.log(n," at pages\\agent\\module\\my\\module\\QrCode.vue:65");var a=e.createCanvasContext("firstCanvas");e.getImageInfo({src:o.cover,success:function(n){a.drawImage(o.cover,0,0,e.upx2px(632),e.upx2px(687));var u=a.createLinearGradient(0,0,800,0);u.addColorStop("0.25","#8b00d2"),u.addColorStop("0.5","#003fb3"),u.addColorStop("0.75","#ff3ef0"),a.fillStyle="#FFFFFF",a.fillRect(e.upx2px(500),e.upx2px(790),e.upx2px(200),e.upx2px(210)),a.drawImage(t,e.upx2px(140),e.upx2px(80),e.upx2px(350),e.upx2px(350)),a.setFontSize(20),a.setFillStyle("#333"),a.fillText("邀请码",e.upx2px(250),e.upx2px(560)),a.setFontSize(30),a.setFillStyle("red"),a.fillText(o.seller_code,e.upx2px(215),e.upx2px(640)),a.draw(!1,function(){e.canvasToTempFilePath({x:0,y:0,width:e.upx2px(632),height:e.upx2px(687),destWidth:e.upx2px(632),destHeight:e.upx2px(687),canvasId:"firstCanvas",success:function(e){console.log(e," at pages\\agent\\module\\my\\module\\QrCode.vue:98"),o.tempFilePath=e.tempFilePath},fail:function(t){console.log(t," at pages\\agent\\module\\my\\module\\QrCode.vue:102"),e.showToast({title:"生成海报失败",icon:"none"})}})})},fail:function(e){console.log(e," at pages\\agent\\module\\my\\module\\QrCode.vue:112")}})},saveToAlbum:function(){e.saveImageToPhotosAlbum({filePath:this.tempFilePath,success:function(){console.log("save success"," at pages\\agent\\module\\my\\module\\QrCode.vue:121"),e.showToast({title:"保存成功!",icon:"none"})}})}}};t.default=a}).call(this,o("6e42")["default"])},"7be3":function(e,t,o){"use strict";o.r(t);var n=o("5f45"),a=o("4d90");for(var u in a)"default"!==u&&function(e){o.d(t,e,function(){return a[e]})}(u);o("ab9e");var l=o("2877"),i=Object(l["a"])(a["default"],n["a"],n["b"],!1,null,"22add1b0",null);t["default"]=i.exports},ab9e:function(e,t,o){"use strict";var n=o("b23f"),a=o.n(n);a.a},b23f:function(e,t,o){}},[["5860","common/runtime","common/vendor"]]]);